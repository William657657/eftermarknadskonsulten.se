<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kontaktformulär | EMK Sverige AB – Eftermarknadskonsulten</title>
  <meta name="description" content="Kontaktformulär som öppnar din e-postklient – ingen data lagras på servern förrän du själv skickar." />
  <link rel="icon" href="/favicon.ico" />
  <link rel="icon" href="/assets/customcolor_icon_customcolor_background.png" type="image/png" />
  <meta property="og:title" content="Kontaktformulär | EMK Sverige AB" />
  <meta property="og:description" content="Kontaktformulär som öppnar din e-postklient – ingen data lagras på servern förrän du själv skickar." />
  <meta property="og:url" content="https://www.eftermarknadskonsulten.se/formular.html" />
  <meta property="og:image" content="/assets/customcolor_textlogo_customcolor_background.png" />

  <!-- Layout-hjälp (ingen färgstyrning här) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- LÅST TEMA -->
  <link rel="stylesheet" href="/assets/emk-theme.css" />

  <!-- Små, säkra layoutfixar (inga färger) -->
  <style>
    /* Håll text inom korten */
    .card, .card h3, .card h4, .card p, .card li, .card label { 
      overflow-wrap:anywhere; word-break:break-word; hyphens:auto;
    }
  </style>
</head>
<body>

  <!-- Header (Policy borttagen → FAQ) -->
  <header>
    <div id="topbar" class="topbar">
      <div class="container wrap" style="height:80px;">
        <a href="/" class="logo inline-flex items-center" aria-label="Gå till startsidan">
          <img src="/assets/customcolor_logo_customcolor_background.png" alt="EMK logotyp" class="h-[56px] w-auto object-contain" />
        </a>

        <nav class="nav hidden md:flex" aria-label="Huvudmeny">
          <a href="/tjanster.html">Tjänster</a>
          <a href="/index.html#process">Process</a>
          <a href="/cases.html">Case</a>
          <a href="/om-oss.html">Om oss</a>
          <a href="/index.html#faq">FAQ</a>
          <a href="#kontakt">Kontakt</a>
        </nav>

        <div class="hidden md:block">
          <a href="/formular.html" class="btn btn-primary">Kontakta oss</a>
        </div>

        <!-- Mobil: hamburgare -->
        <button id="navToggle" class="md:hidden hambox" aria-expanded="false" aria-controls="mobileNav" aria-label="Öppna meny">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <path d="M4 6h16M4 12h16M4 18h16"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Off-canvas mobilmeny -->
    <div id="mobileNav" class="offcanvas" hidden>
      <div class="scrim" data-close="" aria-hidden="true"></div>
      <div class="panel" role="dialog" aria-label="Mobilmeny">
        <div class="flex items-center justify-between">
          <strong>Menyn</strong>
          <button class="hambox" data-close="" aria-label="Stäng meny">×</button>
        </div>
        <div class="mt-3 grid gap-1">
          <a href="/tjanster.html" data-close="">Tjänster</a>
          <a href="/index.html#process" data-close="">Process</a>
          <a href="/cases.html" data-close="">Case</a>
          <a href="/om-oss.html" data-close="">Om oss</a>
          <a href="/index.html#faq" data-close="">FAQ</a>
          <a href="#kontakt" data-close="">Kontakt</a>
          <a href="/formular.html" class="btn btn-primary mt-2" data-close="">Kontakta oss</a>
        </div>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section class="hero section hero-bg" id="kontakt">
    <div class="container">
      <h1 class="hero-title">Kontaktformulär</h1>
      <p class="lead">Formuläret öppnar din e-postklient — ingen data sparas hos oss förrän du skickar.</p>
    </div>
  </section>

  <!-- Innehåll -->
  <section class="section">
    <div class="container grid gap-6">
      <!-- Form-kort -->
      <div class="card elev">
        <form class="grid gap-3" onsubmit="handleMailto(event)">
          <label>
            Namn
            <input type="text" name="namn" required />
          </label>
          <label>
            E-post
            <input type="email" name="email" required />
          </label>
          <label>
            Ämne
            <input type="text" name="subject" required />
          </label>
          <label>
            Meddelande
            <textarea name="message" rows="6" required></textarea>
          </label>
          <div class="flex justify-end">
            <button type="submit" class="btn btn-primary">Öppna e-postklient</button>
          </div>
        </form>
      </div>

      <!-- GDPR-notis -->
      <div class="card elev">
        <h3>GDPR-notis</h3>
        <p>Som beskrivet i vår integritetspolicy öppnas din egen e-postklient och ingen information lagras på vår webbserver innan du själv skickar.</p>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container wrap footer">
      <div class="footer-left">
        © EMK Sverige AB
      </div>
      <nav class="footer-right">
        <a href="/integritet.html">Integritet</a>
        <a href="/cookies.html">Cookies</a>
        <a href="/villkor.html">Villkor</a>
        <a href="/formular.html" aria-current="page"><strong>Formulär</strong></a>
      </nav>
    </div>
  </footer>

  <!-- Script: mailto och nav (oförändrat beteende) -->
  <script>
    function handleMailto(e){
      e.preventDefault();
      const f = e.target;
      const subject = encodeURIComponent(f.subject.value.trim());
      const body = encodeURIComponent(
        `Namn: ${f.namn.value}\nE-post: ${f.email.value}\n\n${f.message.value}`
      );
      const to = "info@emksab.se";
      window.location.href = `mailto:${to}?subject=${subject}&body=${body}`;
    }

    // Sticky-skugga på scroll
    (function(){
      const bar = document.getElementById('topbar');
      function onScroll(){ if(window.scrollY > 6) bar.classList.add('is-scrolled'); else bar.classList.remove('is-scrolled'); }
      onScroll(); window.addEventListener('scroll', onScroll, {passive:true});
    })();

    // Off-canvas mobilmeny
    (function(){
      const toggle = document.getElementById('navToggle');
      const oc = document.getElementById('mobileNav');
      if(!oc || !toggle) return;
      const scrim = oc.querySelector('.scrim');
      const closers = oc.querySelectorAll('[data-close]');
      function open(){ oc.hidden=false; oc.classList.add('open'); toggle.setAttribute('aria-expanded','true'); document.body.style.overflow='hidden'; }
      function close(){ oc.classList.remove('open'); toggle.setAttribute('aria-expanded','false'); document.body.style.overflow=''; setTimeout(()=>{ oc.hidden=true; },200); }
      toggle.addEventListener('click', open);
      scrim && scrim.addEventListener('click', close);
      closers.forEach(el=>el.addEventListener('click', close));
      window.addEventListener('keydown', e=>{ if(e.key==='Escape' && !oc.hidden) close(); });
    })();

    // Cookie consent (samma som index)
    (function(){
      const KEY = 'emk_cookie_consent';
      const banner = document.getElementById('cookieBanner');
      const accept = document.getElementById('cookieAccept');
      const reject = document.getElementById('cookieReject');
      const hide = () => banner && (banner.style.display='none');
      const set  = (v) => localStorage.setItem(KEY, v);
      const get  = () => localStorage.getItem(KEY);

      function loadAnalytics(){
        const id='G-XXXXXXX'; if(id==='G-XXXXXXX') return;
        const s=document.createElement('script');
        s.src='https://www.googletagmanager.com/gtag/js?id='+id; s.async=true; document.head.appendChild(s);
        window.dataLayer = window.dataLayer || [];
        function gtag(){ dataLayer.push(arguments); }
        window.gtag = gtag; gtag('js', new Date()); gtag('config', id, { anonymize_ip:true });
      }

      const val = get();
      if (banner) {
        if (val==='accepted') { hide(); loadAnalytics(); }
        else if (val==='rejected') { hide(); }
        else { banner.style.display='block'; }
      }
      accept && accept.addEventListener('click', ()=>{ set('accepted'); hide(); loadAnalytics(); });
      reject && reject.addEventListener('click', ()=>{ set('rejected'); hide(); });
    })();
  </script>
</body>
</html>
